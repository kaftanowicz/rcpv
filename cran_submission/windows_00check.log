* using log directory 'd:/RCompile/CRANincoming/R-devel/rcpv.Rcheck'
* using R Under development (unstable) (2019-07-05 r76784)
* using platform: x86_64-w64-mingw32 (64-bit)
* using session charset: ISO8859-1
* checking for file 'rcpv/DESCRIPTION' ... OK
* checking extension type ... Package
* this is package 'rcpv' version '0.1'
* package encoding: UTF-8
* checking CRAN incoming feasibility ... NOTE
Maintainer: 'Michal Kaftanowicz <michal@kaftanowicz.com>'

New submission

Possibly mis-spelled words in DESCRIPTION:
  CPV (3:53, 8:94)
  cpv (8:69)

The Title field should be in title case. Current version is:
'Conversion of common procurement vocabulary (CPV) codes'
In title case that is:
'Conversion of Common Procurement Vocabulary (CPV) Codes'

The Date field is over a month old.
* checking package namespace information ... OK
* checking package dependencies ... OK
* checking if this is a source package ... OK
* checking if there is a namespace ... OK
* checking for hidden files and directories ... OK
* checking for portable file names ... OK
* checking serialization versions ... OK
* checking whether package 'rcpv' can be installed ... OK
* checking installed package size ... OK
* checking package directory ... OK
* checking for future file timestamps ... OK
* checking DESCRIPTION meta-information ... NOTE
License components which are templates and need '+ file LICENSE':
  MIT
* checking top-level files ... NOTE
File
  LICENSE
is not mentioned in the DESCRIPTION file.
Non-standard file/directory found at top level:
  'workspace'
* checking for left-over files ... OK
* checking index information ... OK
* checking package subdirectories ... OK
* checking R files for non-ASCII characters ... OK
* checking R files for syntax errors ... OK
* loading checks for arch 'i386'
** checking whether the package can be loaded ... OK
** checking whether the package can be loaded with stated dependencies ... OK
** checking whether the package can be unloaded cleanly ... OK
** checking whether the namespace can be loaded with stated dependencies ... OK
** checking whether the namespace can be unloaded cleanly ... OK
** checking loading without being on the library search path ... OK
** checking use of S3 registration ... OK
* loading checks for arch 'x64'
** checking whether the package can be loaded ... OK
** checking whether the package can be loaded with stated dependencies ... OK
** checking whether the package can be unloaded cleanly ... OK
** checking whether the namespace can be loaded with stated dependencies ... OK
** checking whether the namespace can be unloaded cleanly ... OK
** checking loading without being on the library search path ... OK
** checking use of S3 registration ... OK
* checking dependencies in R code ... OK
* checking S3 generic/method consistency ... OK
* checking replacement functions ... OK
* checking foreign function calls ... OK
* checking R code for possible problems ... [5s] NOTE
convert_cpv: no visible binding for global variable 'corr_codes'
describe_cpv: no visible binding for global variable 'cpv_codes'
is_2003_cpv: no visible binding for global variable 'corr_codes'
is_2007_cpv: no visible binding for global variable 'corr_codes'
is_correct_cpv: no visible binding for global variable 'corr_codes'
is_correct_cpv: no visible binding for global variable 'cpv_codes'
lang_available: no visible binding for global variable 'cpv_codes'
update_data: no visible global function definition for 'download.file'
update_data: no visible global function definition for 'unzip'
update_data: no visible global function definition for 'na.omit'
update_data: no visible binding for global variable 'CODE_SHORT'
update_data: no visible binding for global variable 'CODE'
update_data: no visible binding for global variable 'CODE_SHORT_2003'
update_data: no visible binding for global variable 'CODE_2003'
update_data: no visible binding for global variable 'CODE_SHORT_2007'
update_data: no visible binding for global variable 'CODE_2007'
Undefined global functions or variables:
  CODE CODE_2003 CODE_2007 CODE_SHORT CODE_SHORT_2003 CODE_SHORT_2007
  corr_codes cpv_codes download.file na.omit unzip
Consider adding
  importFrom("stats", "na.omit")
  importFrom("utils", "download.file", "unzip")
to your NAMESPACE file.
* checking Rd files ... OK
* checking Rd metadata ... OK
* checking Rd line widths ... NOTE
Rd file 'update_data.Rd':
  \usage lines wider than 90 characters:
       update_data(cpv_url = "https://simap.ted.europa.eu/documents/10184/36234/cpv_2008_xls.zip",
       corr_url = "http://simap.ted.europa.eu/documents/10184/36234/Correspondance_2003-2007_en.xlsx",

These lines will be truncated in the PDF manual.
* checking Rd cross-references ... OK
* checking for missing documentation entries ... WARNING
Undocumented code objects:
  'corr_codes' 'cpv_codes' 'sup_codes'
Undocumented data sets:
  'corr_codes' 'cpv_codes' 'sup_codes'
All user-level objects in a package should have documentation entries.
See chapter 'Writing R documentation files' in the 'Writing R
Extensions' manual.
* checking for code/documentation mismatches ... WARNING
Functions or methods with usage in documentation object 'hello' but not in code:
  'hello'

Codoc mismatches from documentation object 'describe_cpv':
describe_cpv
  Code: function(code, lang = c("EN", "BG", "CS", "DA", "DE", "EL",
                 "ES", "ET", "FI", "FR", "GA", "HR", "HU", "IT", "LT",
                 "LV", "MT", "NL", "PL", "PT", "RO", "SK", "SL", "SV"),
                 class_level = NULL, max_nchar = NULL)
  Docs: function(code, lang = c("EN", "BG", "CS", "DA", "DE", "EL",
                 "ES", "ET", "FI", "FR", "GA", "HR", "HU", "IT", "LT",
                 "LV", "MT", "NL", "PL", "PT", "RO", "SK", "SL", "SV"),
                 class_level = NULL)
  Argument names in code not in docs:
    max_nchar

* checking Rd \usage sections ... WARNING
Undocumented arguments in documentation object 'assert'
  'fail_msg' '...'
Documented arguments not in \usage in documentation object 'assert':
  'msg'

Undocumented arguments in documentation object 'dt_validate'
  'expected_col_class'
Documented arguments not in \usage in documentation object 'dt_validate':
  'col_class'

Undocumented arguments in documentation object 'dt_validate_and_groom'
  'expected_col_class'
Documented arguments not in \usage in documentation object 'dt_validate_and_groom':
  'col_class'

Functions with \usage entries need to have the appropriate \alias
entries, and all their arguments documented.
The \usage entries must correspond to syntactically valid R code.
See chapter 'Writing R documentation files' in the 'Writing R
Extensions' manual.
* checking Rd contents ... OK
* checking for unstated dependencies in examples ... OK
* checking contents of 'data' directory ... OK
* checking data for non-ASCII characters ... OK
* checking data for ASCII and uncompressed saves ... WARNING
  
  Note: significantly better compression could be obtained
        by using R CMD build --resave-data
                 old_size new_size compress
  corr_codes.rda     91Kb     33Kb       xz
  cpv_codes.rda     2.2Mb    1.7Mb       xz
  sup_codes.rda     188Kb    148Kb       xz
* checking examples ...
** running examples for arch 'i386' ... ERROR
Running examples in 'rcpv-Ex.R' failed
The error most likely occurred in:

> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: dt_validate
> ### Title: Performes validation of data.table passed
> ### Aliases: dt_validate
> 
> ### ** Examples
> 
> {
+  dt <- data.table(c1= c(1,2,3), c2=c(Sys.Date()), c3=c("Ala & kotek"))
+  dt_validate(dt, "dt", list(c2 = "Date", c1 = "numeric"))
+  }
Error in data.table(c1 = c(1, 2, 3), c2 = c(Sys.Date()), c3 = c("Ala & kotek")) : 
  could not find function "data.table"
Execution halted
** running examples for arch 'x64' ... ERROR
Running examples in 'rcpv-Ex.R' failed
The error most likely occurred in:

> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: dt_validate
> ### Title: Performes validation of data.table passed
> ### Aliases: dt_validate
> 
> ### ** Examples
> 
> {
+  dt <- data.table(c1= c(1,2,3), c2=c(Sys.Date()), c3=c("Ala & kotek"))
+  dt_validate(dt, "dt", list(c2 = "Date", c1 = "numeric"))
+  }
Error in data.table(c1 = c(1, 2, 3), c2 = c(Sys.Date()), c3 = c("Ala & kotek")) : 
  could not find function "data.table"
Execution halted
* checking for unstated dependencies in 'tests' ... OK
* checking tests ...
** running tests for arch 'i386' ... [3s] ERROR
  Running 'testthat.R' [2s]
Running the tests in 'tests/testthat.R' failed.
Complete output:
  > library(testthat)
  > library(rcpv)
  > 
  > test_check("rcpv")
  == testthat results  ===========================================================
  OK: 21 SKIPPED: 0 WARNINGS: 4 FAILED: 0
  > test_file("tests/testthat/test-convert_cpv.R")
  Error: `path` does not exist
  Execution halted
** running tests for arch 'x64' ... [2s] ERROR
  Running 'testthat.R' [2s]
Running the tests in 'tests/testthat.R' failed.
Complete output:
  > library(testthat)
  > library(rcpv)
  > 
  > test_check("rcpv")
  == testthat results  ===========================================================
  OK: 21 SKIPPED: 0 WARNINGS: 4 FAILED: 0
  > test_file("tests/testthat/test-convert_cpv.R")
  Error: `path` does not exist
  Execution halted
* checking PDF version of manual ... OK
* DONE
Status: 4 ERRORs, 4 WARNINGs, 5 NOTEs
